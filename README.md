# LiveSub å®¢æˆ·ç«¯ (Electron + React)

æœ¬é¡¹ç›®æ˜¯ LiveSub å®æ—¶å­—å¹•ç³»ç»Ÿçš„æ¡Œé¢å®¢æˆ·ç«¯ï¼Œè´Ÿè´£éŸ³é¢‘é‡‡é›†ã€å®æ—¶å±•ç¤ºå­—å¹•ä»¥åŠç”¨æˆ·äº¤äº’ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ç³»ç»Ÿçº§éŸ³é¢‘é‡‡é›†**: åˆ©ç”¨ Electron çš„ `desktopCapturer` æ•è·ç³»ç»Ÿ/æµè§ˆå™¨éŸ³é¢‘æµã€‚
- **å®æ—¶é‡é‡‡æ ·**: å°†é‡‡é›†åˆ°çš„ 48kHz éŸ³é¢‘æµå®æ—¶è½¬æ¢ä¸º ASR å¼•æ“æ‰€éœ€çš„ 16kHz PCM æ ¼å¼ã€‚
- **åŠ¨æ€å­—å¹•æ¸²æŸ“**: æ”¯æŒå®æ—¶å±•ç¤ºè¯†åˆ«ä¸­çš„ä¸­é—´ç»“æœï¼ˆPartialï¼‰å’Œæœ€ç»ˆç»“æœï¼ˆFinalï¼‰ã€‚
- **å†å²è®°å½•å›æº¯**: è‡ªåŠ¨ä¿å­˜å¹¶å±•ç¤ºæœ€è¿‘çš„å­—å¹•å†å²ã€‚
- **æ™ºèƒ½ç¿»è¯‘**: æ”¯æŒ LLM é©±åŠ¨çš„å®æ—¶åŒè¯­å­—å¹•å±•ç¤ºã€‚
- **ä¸»é¢˜åˆ‡æ¢**: å†…ç½®æ·±è‰²/æµ…è‰²æ¨¡å¼ï¼Œé€‚é…ä¸åŒå·¥ä½œç¯å¢ƒã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: [React 18](https://react.dev/)
- **æ„å»ºå·¥å…·**: [Vite](https://vitejs.dev/)
- **æ¡Œé¢ç¯å¢ƒ**: [Electron](https://www.electronjs.org/)
- **è¯­è¨€**: [TypeScript](https://www.typescriptlang.org/)
- **éŸ³é¢‘å¤„ç†**: Web Audio API (AudioContext, ScriptProcessor)

## ğŸš€ è¿è¡Œä¸å¼€å‘

### ç¯å¢ƒè¦æ±‚
- Node.js v18+
- npm æˆ– yarn

### å¿«é€Ÿå¯åŠ¨
1. **å®‰è£…ä¾èµ–**:
   ```bash
   npm install
   ```
2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**:
   ```bash
   npm run dev
   ```
   è¯¥å‘½ä»¤ä¼šåŒæ—¶å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨å’Œ Electron çª—å£ã€‚

3. **æ„å»ºå®‰è£…åŒ…**:
   ```bash
   npm run build
   ```

## ğŸ“‚ é¡¹ç›®ç»“æ„

- `electron/`: Electron ä¸»è¿›ç¨‹é…ç½®åŠé¢„åŠ è½½è„šæœ¬ã€‚
- `src/`: React æºä»£ç ã€‚
  - `App.tsx`: æ ¸å¿ƒé€»è¾‘å®ç°ï¼ŒåŒ…å«éŸ³é¢‘é‡‡é›†ã€WS é€šä¿¡åŠ UI æ¸²æŸ“ã€‚
- `index.html`: é¡µé¢å…¥å£ã€‚

## âš™ï¸ æ ¸å¿ƒé€»è¾‘è¯´æ˜

1. **éŸ³é¢‘é‡‡é›†**: é€šè¿‡ `navigator.mediaDevices.getDisplayMedia` è·å–å¸¦éŸ³é¢‘çš„åª’ä½“æµã€‚
2. **å¤„ç†æµç¨‹**: `AudioContext` æ•è·æ•°æ® -> çº¿æ€§æ’å€¼é‡é‡‡æ · (16kHz) -> è½¬æ¢ä¸º Int16 PCM -> åˆ†å¸§ç¼“å­˜ -> WebSocket å‘é€ã€‚
3. **å­—å¹•å±•ç¤º**: ç›‘å¬ WebSocket æ¶ˆæ¯ï¼Œæ ¹æ®æ¶ˆæ¯ç±»å‹ (`asr.partial`/`asr.final`/`asr.translate`) åŠ¨æ€æ›´æ–° React çŠ¶æ€å¹¶æ¸²æŸ“ã€‚
